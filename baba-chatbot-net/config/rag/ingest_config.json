{
  "version": "1.0",
  "description": "Configuración para ingesta de documentos en el sistema RAG",
  "sources": [
    {
      "id": "kb_general",
      "name": "Conocimiento Base General",
      "type": "markdown",
      "path": "./config/rag/kb_sources/",
      "pattern": "*.md",
      "enabled": true,
      "metadata": {
        "category": "general",
        "priority": "high"
      }
    },
    {
      "id": "kavak_website",
      "name": "Sitio Web de Kavak",
      "type": "web",
      "url": "https://www.kavak.com/mx",
      "enabled": true,
      "crawl": {
        "maxDepth": 2,
        "maxPages": 50,
        "allowedPaths": [
          "/mx/como-funciona",
          "/mx/garantia",
          "/mx/financiamiento",
          "/mx/preguntas-frecuentes"
        ],
        "excludePaths": [
          "/mx/blog",
          "/mx/promociones"
        ]
      },
      "metadata": {
        "category": "general",
        "priority": "high",
        "source": "website"
      }
    },
    {
      "id": "faq",
      "name": "Preguntas Frecuentes",
      "type": "markdown",
      "path": "./config/rag/kb_sources/faq.md",
      "enabled": true,
      "metadata": {
        "category": "faq",
        "priority": "high"
      }
    },
    {
      "id": "financing_policies",
      "name": "Políticas de Financiamiento",
      "type": "pdf",
      "path": "./config/rag/kb_sources/policies/",
      "pattern": "financing_*.pdf",
      "enabled": true,
      "metadata": {
        "category": "financing",
        "priority": "medium"
      }
    },
    {
      "id": "warranty_docs",
      "name": "Documentos de Garantía",
      "type": "pdf",
      "path": "./config/rag/kb_sources/policies/",
      "pattern": "warranty_*.pdf",
      "enabled": true,
      "metadata": {
        "category": "warranty",
        "priority": "medium"
      }
    }
  ],
  "chunking": {
    "strategy": "semantic",
    "chunk_size": 512,
    "chunk_overlap": 50,
    "separators": ["\n\n", "\n", ". ", " "]
  },
  "embedding": {
    "model": "all-MiniLM-L6-v2",
    "dimension": 384,
    "normalize": true
  },
  "vectorStore": {
    "type": "faiss",
    "indexType": "IVFFlat",
    "metric": "cosine",
    "nlist": 100
  },
  "retrieval": {
    "topK": 5,
    "minScore": 0.7,
    "maxTokens": 2000,
    "reranking": {
      "enabled": true,
      "model": "cross-encoder/ms-marco-MiniLM-L-6-v2"
    }
  },
  "filters": {
    "allowedCategories": [
      "general",
      "faq",
      "financing",
      "warranty",
      "process",
      "technical"
    ],
    "excludePatterns": [
      "internal_*",
      "draft_*"
    ]
  },
  "schedule": {
    "autoIngest": true,
    "cronExpression": "0 2 * * *",
    "incrementalUpdate": true
  }
}

